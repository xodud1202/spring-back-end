<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.xodud1202.springbackend.mapper.BrandMapper">
	<select id="getAdminBrandList" resultType="com.xodud1202.springbackend.domain.admin.brand.BrandAdminVO">
		/* BrandMapper.getAdminBrandList: 관리자 브랜드 목록 조회 */
		SELECT BRAND_NO
		     , BRAND_NM
		     , BRAND_LOGO_PATH
		     , BRAND_NOTI
		     , DISP_ORD
		     , USE_YN
		     , DEL_YN
		     , REG_NO
		     , REG_DT
		     , UDT_NO
		     , UDT_DT
		  FROM BRAND_BASE
		 WHERE DEL_YN = 'N'
		<if test="brandNo != null">
		   AND BRAND_NO = #{brandNo}
		</if>
		<if test="brandNm != null and brandNm != ''">
		   AND BRAND_NM LIKE CONCAT('%', #{brandNm}, '%')
		</if>
		 ORDER BY DISP_ORD ASC, BRAND_NO ASC
		 LIMIT #{pageSize} OFFSET #{offset}
	</select>

	<select id="getAdminBrandCount" resultType="int">
		/* BrandMapper.getAdminBrandCount: 관리자 브랜드 목록 건수 조회 */
		SELECT COUNT(1)
		  FROM BRAND_BASE
		 WHERE DEL_YN = 'N'
		<if test="brandNo != null">
		   AND BRAND_NO = #{brandNo}
		</if>
		<if test="brandNm != null and brandNm != ''">
		   AND BRAND_NM LIKE CONCAT('%', #{brandNm}, '%')
		</if>
	</select>

	<select id="getAdminBrandDetail" resultType="com.xodud1202.springbackend.domain.admin.brand.BrandAdminVO">
		/* BrandMapper.getAdminBrandDetail: 관리자 브랜드 상세 조회 */
		SELECT BRAND_NO
		     , BRAND_NM
		     , BRAND_LOGO_PATH
		     , BRAND_NOTI
		     , DISP_ORD
		     , USE_YN
		     , DEL_YN
		     , REG_NO
		     , REG_DT
		     , UDT_NO
		     , UDT_DT
		  FROM BRAND_BASE
		 WHERE BRAND_NO = #{brandNo}
		   AND DEL_YN = 'N'
	</select>

	<insert id="insertAdminBrand">
		/* BrandMapper.insertAdminBrand: 관리자 브랜드 등록 */
		INSERT INTO BRAND_BASE (
		       BRAND_NM
		     , BRAND_LOGO_PATH
		     , BRAND_NOTI
		     , DISP_ORD
		     , USE_YN
		     , DEL_YN
		     , REG_NO
		     , UDT_NO
		) VALUES (
		       #{brandNm}
		     , #{brandLogoPath}
		     , #{brandNoti}
		     , #{dispOrd}
		     , #{useYn}
		     , #{delYn}
		     , #{regNo}
		     , #{udtNo}
		)
	</insert>

	<update id="updateAdminBrand">
		/* BrandMapper.updateAdminBrand: 관리자 브랜드 수정 */
		UPDATE BRAND_BASE
		   SET BRAND_NM = #{brandNm}
		     , BRAND_LOGO_PATH = #{brandLogoPath}
		     , BRAND_NOTI = #{brandNoti}
		     , DISP_ORD = #{dispOrd}
		     , USE_YN = #{useYn}
		     , UDT_NO = #{udtNo}
		     , UDT_DT = NOW()
		 WHERE BRAND_NO = #{brandNo}
	</update>

	<update id="deleteAdminBrand">
		/* BrandMapper.deleteAdminBrand: 관리자 브랜드 삭제 */
		UPDATE BRAND_BASE
		   SET DEL_YN = 'Y'
		     , UDT_NO = #{udtNo}
		     , UDT_DT = NOW()
		 WHERE BRAND_NO = #{brandNo}
	</update>

</mapper>